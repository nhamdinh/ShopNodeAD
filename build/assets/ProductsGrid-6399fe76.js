import{j as s}from"./mui-8cc0f558.js";import{P as v}from"./PageHeader-5ed338fa.js";import{C,P as E}from"./ProductGridItem-338fb83f.js";import{S as f}from"./index-a7e28cc4.js";import{P as G}from"./Pagination-2bfb5f72.js";import{r as i}from"./antd-18c18a77.js";import{u as b}from"./usePagination-0eed2831.js";import{P as h,k as P,n as N,p as y,q as j,r as B}from"./index-88de12ef.js";import{b as O}from"./helpers-8c6e04da.js";import"./DocumentTitle-53b49d61.js";/* empty css               */import"./SubmenuTrigger-a96777a5.js";import"./RatingStars-4e5e91c0.js";import"./commonFunction-6a88a2ca.js";const w=({products:n,cb_refetch:e,categories:c=[]})=>{const[t,l]=i.useState(c[0]),[r,m]=i.useState(h[0]),p=n.filter(o=>o==null?void 0:o.product_categories.includes(t==null?void 0:t.value)),u=O(p,r==null?void 0:r.value),a=b({data:u,limit:12});return i.useEffect(()=>{a.goToPage(0)},[t,r]),i.useEffect(()=>{l(c[0])},[c]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-[26px] lg:grid-cols-4 2xl:grid-cols-6",children:[s.jsx("div",{className:"card !p-5 flex items-center gap-4 min-w-[218px]",children:s.jsx(C,{category:t==null?void 0:t.label})}),s.jsxs("div",{className:`flex flex-col-reverse gap-4 lg:flex-col lg:gap-3 lg:col-start-3 lg:col-end-5\r
                     2xl:col-start-5 2xl:col-end-7`,children:[s.jsxs("span",{className:"lg:text-right",children:["View products: ",a.showingOf()]}),s.jsxs("div",{className:"grid gap-2.5 sm:grid-cols-2 sm:gap-[26px]",children:[s.jsx(f,{value:t,onChange:l,options:c}),s.jsx(f,{value:r,onChange:m,options:h})]})]})]}),s.jsx("div",{className:`grid flex-1 items-start gap-[26px] mt-5 mb-[30px] sm:grid-cols-2 md:grid-cols-3 md:mt-7\r
                 lg:grid-cols-4 2xl:grid-cols-6`,children:a.currentItems().map((o,d)=>s.jsx(E,{product:o,index:d,cb_onGetProductsByShop:()=>{e&&e()}},`${o._id}-${r==null?void 0:r.value}-${t==null?void 0:t.value}`))}),a.maxPage>1&&s.jsx(G,{pagination:a})]})},Z=()=>{const n=P(N),e=P(y),[c,t]=i.useState([]),[l,r]=i.useState({product_shop:e==null?void 0:e._id,limit:j,page:1});i.useEffect(()=>{r({product_shop:e==null?void 0:e._id,limit:j,page:1,isDelete:!1})},[e]);const[m,{isLoading:p,error:u}]=B(),a=async()=>{var x;const o=await m(l),d=o==null?void 0:o.data;if(d){const S=(x=d==null?void 0:d.metadata)==null?void 0:x.products;t(S.map(g=>{const _=g.isDelete?"trash":g.isPublished?"publish":"draft";return{...g,status:_}}))}};return i.useEffect(()=>{l.product_shop&&a()},[l]),s.jsxs(s.Fragment,{children:[s.jsx(v,{isFetching:p,cb_refetch:a,title:"Products Grid"}),s.jsx(w,{categories:n,products:c,cb_refetch:a})]})};export{Z as default};
