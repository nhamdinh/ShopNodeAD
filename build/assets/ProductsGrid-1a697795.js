import{j as s}from"./mui-2493782d.js";import{P as S}from"./PageHeader-f589027d.js";import{C as _,P as v}from"./ProductGridItem-fe2f1c5f.js";import{S as x}from"./index-d2873610.js";import{P as y}from"./Pagination-94a491c8.js";import{r as a}from"./antd-1d728b6a.js";import{u as E}from"./usePagination-6afed751.js";import{P as C,m as f,i as G,n as N,p as P,q as O}from"./index-88527f4e.js";import{b}from"./helpers-dbcd4939.js";import"./DocumentTitle-62345d26.js";/* empty css               */import"./SubmenuTrigger-34b58daa.js";import"./RatingStars-e1771c4e.js";import"./commonFunction-7252a3c4.js";const R=({products:e,cb_refetch:l})=>{const d=C.filter(t=>t.value!=="all"),[r,m]=a.useState(d[0]),[i,p]=a.useState(f[0]),u=e.filter(t=>t.product_type===r.value),c=b(u,i.value),o=E({data:c,limit:12});return a.useEffect(()=>{o.goToPage(0)},[r,i]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-[26px] lg:grid-cols-4 2xl:grid-cols-6",children:[s.jsx("div",{className:"card !p-5 flex items-center gap-4 min-w-[218px]",children:s.jsx(_,{category:r.value})}),s.jsxs("div",{className:`flex flex-col-reverse gap-4 lg:flex-col lg:gap-3 lg:col-start-3 lg:col-end-5\r
                     2xl:col-start-5 2xl:col-end-7`,children:[s.jsxs("span",{className:"lg:text-right",children:["View products: ",o.showingOf()]}),s.jsxs("div",{className:"grid gap-2.5 sm:grid-cols-2 sm:gap-[26px]",children:[s.jsx(x,{value:r,onChange:m,options:d}),s.jsx(x,{value:i,onChange:p,options:f})]})]})]}),s.jsx("div",{className:`grid flex-1 items-start gap-[26px] mt-5 mb-[30px] sm:grid-cols-2 md:grid-cols-3 md:mt-7\r
                 lg:grid-cols-4 2xl:grid-cols-6`,children:o.currentItems().map((t,n)=>s.jsx(v,{product:t,index:n,cb_onGetProductsByShop:()=>{l&&l()}},`${t._id}-${i.value}-${r.value}`))}),o.maxPage>1&&s.jsx(y,{pagination:o})]})},Z=()=>{const e=G(N),[l,d]=a.useState([]),[r,m]=a.useState({product_shop:e==null?void 0:e._id,limit:P,page:1});a.useEffect(()=>{m({product_shop:e==null?void 0:e._id,limit:P,page:1,isDelete:!1})},[e]);const[i,{isLoading:p,error:u}]=O(),c=async()=>{var n;const o=await i(r),t=o==null?void 0:o.data;if(t){const h=(n=t==null?void 0:t.metadata)==null?void 0:n.products;d(h.map(g=>{const j=g.isDelete?"trash":g.isPublished?"publish":"draft";return{...g,status:j}}))}};return a.useEffect(()=>{r.product_shop&&c()},[r]),s.jsxs(s.Fragment,{children:[s.jsx(S,{isFetching:p,cb_refetch:c,title:"Products Grid"}),s.jsx(R,{products:l,cb_refetch:c})]})};export{Z as default};
